demo_mode: False
system:
  ip_address: 10.0.0.1
  application_file_rectangle: "autolamella"
  application_file_cleaning_cross_section: "autolamella"
  stage_rotation_flat_to_electron: 50 # degrees
  stage_rotation_flat_to_ion: 230 # degrees
imaging:
  horizontal_field_width: 150e-6 # ion beam horizontal field of view (meters)
  dwell_time: 1e-6
  resolution: "1536x1024"
  imaging_current: 20e-12 # 20pA for Ar, 30pA for Xe
gamma:
  correction: True
  min_gamma: 0.15
  max_gamma: 5.0
  scale_factor: 0.01
  threshold: 46 # px
reference_images:
  landing_post_ref_img_resolution: "1536x1024"
  landing_post_ref_img_dwell_time: 1e-6
  landing_post_ref_img_hfw_lowres: 400e-6
  landing_post_ref_img_hfw_highres: 150e-6
  trench_area_ref_img_resolution: "1536x1024"
  trench_area_ref_img_dwell_time: 1e-6
  trench_area_ref_img_hfw_lowres: 400e-6
  trench_area_ref_img_hfw_highres: 80e-6
  needle_ref_img_resolution: "1536x1024"
  needle_ref_img_dwell_time: 1e-6
  needle_ref_img_hfw_lowres: 150e-6
  needle_ref_img_hfw_highres: 100e-6
  needle_with_lamella_ref_img_resolution: "3072x2048"
  needle_with_lamella_ref_img_hfw_highres: 150e-6
  needle_with_lamella_ref_img_dwell_time_electron: 1e-6
  needle_with_lamella_ref_img_dwell_time_ion: 0.5e-6
  needle_with_lamella_shifted_img_lowres: 250e-6
  needle_with_lamella_shifted_img_highres: 150e-6
lamella:
  lamella_width: 12e-6 # in meters
  lamella_height: 3e-6 # in meters
  total_cut_height: 6e-6 # in meters
  milling_depth: 1e-6 # default milling depth, unless otherwise specified
  milling_current: 0.74e-9 # default milling current, unless otherwise specified
  protocol_stages: # stages will be milled in the order they appear here
    # rough_cut
    - percentage_roi_height: 0.3 # fractional percentage of total_cut height
      percentage_from_lamella_surface: 0.7 # fractional percentage
      milling_current: 0.74e-9 # in meters
    # regular_cut
    - percentage_roi_height: 0.8 # fractional percentage of total_cut height
      percentage_from_lamella_surface: 0.0 # fractional percentage
      milling_current: 0.74e-9 # in Amps
      milling_depth: 0.6e-6 # in meters
needle:
  horizontal_field_width: 150e-6 # ion beam horizontal field of view (meters)
  dwell_time: 1e-6
  resolution: "1536x1024"
machine_learning:
  eb_brightness: 0.4
  eb_contrast: 0.70
  ib_brightness: 0.41
  ib_contrast: 0.86
  weights: fresh_full_n10.pt
#  weights: C:\Users\Admin\MICROSCOPE\DeMarcoLab\autoliftout\liftout\model\models\fresh_full_n10.pt
jcut:
  jcut_milling_current: 0.74e-9 # in Amps
  jcut_angle: 6  # in degrees
  jcut_length: 9e-6 # in meters
  jcut_lamella_depth: 5e-6 # in meters
  jcut_trench_thickness: 1e-6 # in meters
  jcut_milling_depth: 1.5e-6 # in meters
  extra_bit: 8e-6  # J-cut should extend out a little past the lamella
  mill_lhs_jcut_pattern: true # true or false
  mill_rhs_jcut_pattern: true # true or false
  mill_top_jcut_pattern: true # true or false
sharpen:
  height: 2.5e-6
  width:  20e-6
  depth: 1e-6
  bias: 0.25e-6
  hfw: 150e-6
  tip_angle: 10
  needle_angle: 40
  sharpen_milling_current: 0.74e-9 # in Amps
cut:
  width: 8e-6
  height: 0.5e-6
  depth: 4e-6
  rotation: 0
  hfw: 100e-6
# thin:
#   width: 5e-6
#   height: 1e-6
#   depth: 4e-6
#   rotation: 0
#   hfw: 100e-6
thin_lamella: # Lamella parameters
  lamella_width:  5e-6 # In meters. Width of lamella.
  lamella_height: 2e-6 # In meters. Thickness of lamella.
  total_cut_height: 5e-6 # In meters. Combined milling region above & below.
  milling_depth: 0.1e-6 # In meters. Default milling depth.
  milling_current: 0.89e-9 # In Amperes. Default milling current.
  # Protocol stages are milled in the order they appear here.
  # Stages may override the default parmeters above Eg: current, depth, etc.
  protocol_stages:
  # Rough cut, stage 1
  - percentage_roi_height: 0.7 # Milling size as fraction of total_cut_height.
    percentage_from_lamella_surface: 0.4 # Fraction from surface of lamella.
    milling_depth: 0.5e-6 # In meters. Overrides the default miling depth.
    milling_current: 0.89e-9 # In Amperes. Overrides the default current.
  # Regular cut, stage 2
  - percentage_roi_height: 0.3 # Milling size as fraction of total_cut_height.
    percentage_from_lamella_surface: 0.2 # Fraction from surface of lamella.
    milling_depth: 0.25e-6 # In meters. Overrides the default miling depth.
    milling_current: 0.2e-9 # In Amperes. Overrides the default current.
  # Polishing cut, stage 3
  - percentage_roi_height: 0.3 # Milling size as fraction of total_cut_height.
    percentage_from_lamella_surface: 0. # Fraction from surface of lamella.
    milling_depth: 0.1e-6 # In meters. Overrides the default miling depth.
    milling_current: 6e-11 # In Amperes. Overrides the default current.